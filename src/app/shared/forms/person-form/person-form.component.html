<form [formGroup]="formPerson" (ngSubmit)="sendFormPerson($event)">
    <div class="form__img mb-4">
        <!-- person?.foto ? person.foto : URL_PREVIEW -->
        <img [src]="person?.foto ? person.foto : URL_PREVIEW" alt="Foto de perfil" width="256" height="256" class="preview-image">
        <div class="form__img__flex">
            <span class="mb-2">Usa una imagen de tamaño cuadrada</span>
            <input type="file" class="form-control" formControlName="foto" (change)="previewPhoto($event)" accept="image/*">
        </div>
    </div>

    <div class="divider-horizontal m-4"></div>
    
    <div class="form__grid mb-3">
        <span>Nombre publico</span>
        <div class="form__grid__flex">
            <input type="text" class="form-control" placeholder="Nombre"
                formControlName="nombre" [class]="validateField('nombre', formPerson)">

            <div class="divider"></div>
            <input type="text" class="form-control" placeholder="Apellido"
                formControlName="apellido" [class]="validateField('apellido', formPerson)">
        </div>
    </div>
    <div class="form__grid mb-3">
        <span>Genero</span>
        <div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="genero" formControlName="genero" id="inlineRadio1" value="0" checked>
                <label class="form-check-label" for="inlineRadio1">Hombre</label>
            </div>
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="genero" formControlName="genero" id="inlineRadio2" value="1">
                <label class="form-check-label" for="inlineRadio2">Mujer</label>
            </div>
        </div>
    </div>
    <div class="form__grid mb-3">
        <span>Fecha de nacimiento</span>
        <input type="date" class="form-control"
                formControlName="fecha_nac" [class]="validateField('fecha_nac', formPerson)">
    </div>
    <div class="form__grid mb-3">
        <span>Lugar Residencia</span>
        <div class="form__grid__flex">
            <select class="form-select" formControlName="depsv" (ngModelChange)="municipios($event)" [class]="validateField('depsv', formPerson)">
                <option value="">Departamento</option>
                <option value="1">Ahuachapán</option>
                <option value="2">Santa Ana</option>
                <option value="3">Sonsonate</option>
                <option value="4">La Libertad</option>
                <option value="5">Chalatenango</option>
                <option value="6">San Salvador</option>
                <option value="7">Cuscatlán</option>
                <option value="8">La Paz</option>
                <option value="9">Cabañas</option>
                <option value="10">San Vicente</option>
                <option value="11">Usulután</option>
                <option value="12">Morazán</option>
                <option value="13">San Miguel</option>
                <option value="14">La Unión</option>
            </select>
            <div class="divider"></div>
            <select class="form-select" formControlName="municipio_id" [class]="validateField('municipio_id', formPerson)">
                <option value="{{munsv.id}}" *ngFor="let munsv of listMunicipios">{{munsv.mun_name}}</option>
            </select>
        </div>
    </div>

    <div class="text-center my-4" *ngIf="loginServ.SESSION?.id != -1 && loginServ.SESSION?.id != undefined">
        <button type="submit" class="btn btn-primary w-50" [disabled]="formPerson.invalid">Guardar</button>
    </div>
</form>

<div class="divider-horizontal my-4"></div>

<form [formGroup]="formUser" (ngSubmit)="sendFormUser($event)">
    <div class="form__grid mb-3">
        <span>Nombre de usuario</span>
        <input type="text" class="form-control" placeholder="Usuario"
                formControlName="username" [class]="validateField('username', formUser)">
    </div>
    <div class="form__grid mb-3">
        <span>Contraseña</span>
        <div class="form__grid__flex">
            <input type="password" class="form-control" placeholder="Contraseña"
                formControlName="passwd" [class]="validatePassword('passwd')" autocomplete="on">
            <div class="divider"></div>
            <input type="password" class="form-control" placeholder="Repetir Contraseña"
                formControlName="re_passwd" [class]="validatePassword('re_passwd')" autocomplete="on">
        </div>
    </div>
    <div class="form-text my-4">La contraseña debe contener una combinación de letras y numeros</div>

    <div class="text-center my-4">
        <button type="submit" class="btn btn-primary w-50" [disabled]="formUser.invalid">Guardar</button>
    </div>
</form>